<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.2">
<title>Development</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove the comments around the @import statement below when using this as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
body{margin:0}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
#map_canvas img,#map_canvas embed,#map_canvas object,.map_canvas img,.map_canvas embed,.map_canvas object{max-width:none!important}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
.antialiased,body{-webkit-font-smoothing:antialiased}
img{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol,ul.no-bullet,ol.no-bullet{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.no-bullet{list-style:none}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
.keyseq{color:rgba(51,51,51,.8)}
kbd{display:inline-block;color:rgba(0,0,0,.8);font-size:.75em;line-height:1.4;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:-.15em .15em 0 .15em;padding:.2em .6em .2em .5em;vertical-align:middle;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menu{color:rgba(0,0,0,.8)}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.05em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.spread{width:100%}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all th.tableblock,table.grid-all td.tableblock{border-width:0 1px 1px 0}
table.grid-all tfoot>tr>th.tableblock,table.grid-all tfoot>tr>td.tableblock{border-width:1px 1px 0 0}
table.grid-cols th.tableblock,table.grid-cols td.tableblock{border-width:0 1px 0 0}
table.grid-all *>tr>.tableblock:last-child,table.grid-cols *>tr>.tableblock:last-child{border-right-width:0}
table.grid-rows th.tableblock,table.grid-rows td.tableblock{border-width:0 0 1px 0}
table.grid-all tbody>tr:last-child>th.tableblock,table.grid-all tbody>tr:last-child>td.tableblock,table.grid-all thead:last-child>tr>th.tableblock,table.grid-rows tbody>tr:last-child>th.tableblock,table.grid-rows tbody>tr:last-child>td.tableblock,table.grid-rows thead:last-child>tr>th.tableblock{border-bottom-width:0}
table.grid-rows tfoot>tr>th.tableblock,table.grid-rows tfoot>tr>td.tableblock{border-width:1px 0 0 0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.unstyled,ol.unnumbered,ul.checklist,ul.none{list-style-type:none}
ul.unstyled,ol.unnumbered,ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1em;font-size:.85em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{width:1em;position:relative;top:1px}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1{padding-right:.75em;font-weight:bold}
td.hdlist1,td.hdlist2{vertical-align:top}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:0 .75em;line-height:1}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none}
span.footnote,span.footnoteref{vertical-align:super;font-size:.875em}
span.footnote a,span.footnoteref a{text-decoration:none}
span.footnote a:active,span.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em;line-height:1.3;font-size:.875em;margin-left:1.2em;text-indent:-1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
h1,h2{letter-spacing:-.01em}
dt,th.tableblock,td.content{text-rendering:optimizeLegibility}
p,td.content{letter-spacing:-.01em}
p strong,td.content strong{letter-spacing:-.005em}
p,blockquote,dt,td.content{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img{page-break-inside:avoid}
thead{display:table-header-group}
img{max-width:100%!important}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{font-weight: normal}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#00}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_development">Development</a>
<ul class="sectlevel2">
<li><a href="#_unit_tests">Unit Tests</a></li>
<li><a href="#_test_driven_development">Test Driven Development</a></li>
<li><a href="#_integration_tests">Integration tests</a></li>
<li><a href="#_easy_infrastructure_setup">Easy infrastructure setup</a></li>
<li><a href="#_easy_application_setup">Easy application setup</a></li>
<li><a href="#_concurrency_in_application_code_accounted_for">Concurrency in application code accounted for</a></li>
<li><a href="#_gui_style_guide_defined">GUI Style Guide defined</a></li>
<li><a href="#_application_monitoring">Application Monitoring</a></li>
<li><a href="#_scalability_requirements_known_and_accounted_for">Scalability requirements known and accounted for</a></li>
<li><a href="#_performance_requirements_known_and_accounted_for">Performance requirements known and accounted for</a></li>
<li><a href="#_static_code_analysis_backend">Static code analysis (backend)</a></li>
<li><a href="#_application_events_logging">Application events logging</a></li>
<li><a href="#_owasp_top_10_in_definition_of_done">OWASP Top 10 in Definition of Done</a></li>
<li><a href="#_authorization_model_defined">Authorization model defined</a></li>
<li><a href="#_continuous_integration">Continuous Integration</a></li>
<li><a href="#_continuous_delivery">Continuous Delivery</a></li>
<li><a href="#_continuous_deployment">Continuous Deployment</a></li>
<li><a href="#_documentation_tracked_in_vcs">Documentation tracked in VCS</a></li>
<li><a href="#_documentation_generated_during_ci">Documentation generated during CI</a></li>
<li><a href="#_parts_of_the_documentation_generated_automatically">Parts of the documentation generated automatically</a></li>
<li><a href="#_automatic_documentation_of_the_executed_tests">Automatic documentation of the executed tests</a></li>
<li><a href="#_documentation_scope_agreed">Documentation scope agreed</a></li>
<li><a href="#_js_application_framework">JS application framework</a></li>
<li><a href="#_js_build_process">JS Build process</a></li>
<li><a href="#_js_modules_dependency_management">JS modules dependency management</a></li>
<li><a href="#_js_unit_test">JS Unit test</a></li>
<li><a href="#_css_builder">CSS builder</a></li>
<li><a href="#_static_code_analysis_javascript">Static code analysis (JavaScript)</a></li>
<li><a href="#_truly_restful_interfaces">Truly RESTful interfaces</a></li>
<li><a href="#_html_validation">HTML validation</a></li>
<li><a href="#_code_reviews">Code Reviews</a></li>
<li><a href="#_pair_programming">Pair Programming</a></li>
<li><a href="#_database_schema_versioning">Database schema versioning</a></li>
<li><a href="#_database_data_versioning">Database data versioning</a></li>
<li><a href="#_concurrency_for_db_writes">Concurrency for DB writes</a></li>
<li><a href="#_version_control_system">Version Control System</a></li>
<li><a href="#_branching_strategy">Branching strategy</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_development">Development</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_unit_tests">Unit Tests</h3>
<div class="sect4">
<h5 id="_introduction">Introduction</h5>
<div class="paragraph">
<p>Unit testing is at the core of engineering practices in BLStream. It&#8217;s not just a practice, it is a foundation on which many other, more sophisticated practices are built. Without unit tests it would be impossible to apply techniques like <a href="#_continuous_delivery">Continuous Delivery</a> or <a href="#_test_driven_development">Test Driven Development</a> and it would make <a href="http://en.wikipedia.org/wiki/Code_refactoring">code refactorings</a> and generally code maintenance much harder and error prone.</p>
</div>
</div>
<div class="sect4">
<h5 id="_what_do_we_understand_by_unit_tests">What do we understand by unit tests?</h5>
<div class="paragraph">
<p>There are many definitions of "unit test" in the industry, see e.g. <a href="http://martinfowler.com/bliki/UnitTest.html">Martin Fowler - UnitTest</a>, which makes the term rather confusing. What we understand by unit test is simply:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>they are written by programmers themselves</p>
</li>
<li>
<p>they run fast, in seconds rather than minutes</p>
</li>
<li>
<p>they are fine-grained, each test verifies single "thing" (in other words - there is one reason to fail).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Implementation details of how we write unit tests vary, depending on the tools and technologies the project is using. Nevertheless, common goal is to end up with a system that has complete suite of tests which "cover" all functionalities of the system. Thanks to that we are able to clean the code and to improve it anytime, not worrying that we accidentally break something. After each change we can run our tests and make sure that all works as expected. That&#8217;s really powerful. It leads to higher quality of the code, fewer bugs, faster development, happier programmers and - at the end - more satisfied customers.</p>
</div>
<div class="paragraph">
<p>It also means that tests are not something additional, optional. They are required and are very important part of the system.</p>
</div>
</div>
<div class="sect4">
<h5 id="_testability">Testability</h5>
<div class="paragraph">
<p>Writing tests might be a challenge, especially for old, legacy code where no tests were so far developed. Therefore when we start to develop a system, we pay a lot of attention from the very beginning to write testable code. Rules for writing testable code are described in many places, e.g. <a href="http://misko.hevery.com/attachments/Guide-Writing%20Testable%20Code.pdf">Guide to testable code by Misko Hevery</a>, but details depend on project technologies, programming language paradigms, etc. As a general rule, we try to think about tests while writing production code or even to write tests before we implement a new feature. Strictly following that practice is called TDD and is described in chapter <a href="#_test_driven_development">Test Driven Development</a>. That would automatically ensure testability.</p>
</div>
<div class="paragraph">
<p>Even in legacy code without tests, we try to write tests firstly, before we make any changes. Thanks to that we can be sure that we didn&#8217;t break anything while doing a bug fix or new feature development.</p>
</div>
</div>
<div class="sect4">
<h5 id="_how_we_are_doing_unit_testing">How we are doing unit testing?</h5>
<div class="paragraph">
<p>The approach we take for writing tests is to treat tests as executable specification. It simply means that tests describe desired functionality. Each test verifies one, single behavior of the system. Since tests focus on behavior, they are not bound to implementation details. They verify public API of a "unit", ignoring private (hidden) methods and internal implementation structure.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s see an example. If we need to write a function that returns filtered and sorted list of items, in a test we try to verify desired behavior only by public API, ignoring the fact that filtering and sorting internally is implemented in separate functions.</p>
</div>
<div class="listingblock">
<div class="title">Unit tests</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> shouldFilterActiveOnly() {
                MyRepo repo = <span class="keyword">new</span> MyRepo();

                <span class="predefined-type">List</span>&lt;Item&gt; items = repo.findItems();

                assertThat(items).are(activeOnly());
        }

        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> shouldSortList() {
                MyRepo repo = <span class="keyword">new</span> MyRepo();

                <span class="predefined-type">List</span>&lt;Item&gt; items = repo.findItems();

                assertThat(items).isSorted();
        }</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example of implementation</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="directive">public</span> <span class="type">class</span> <span class="class">MyRepo</span> {

                <span class="directive">public</span> <span class="predefined-type">List</span>&lt;Item&gt; findItems() {
                        <span class="predefined-type">List</span>&lt;Item&gt; items = newArrayList(<span class="keyword">new</span> Item(), <span class="keyword">new</span> Item());
                        <span class="predefined-type">List</span>&lt;Item&gt; filteredItems = filter(items);
                        <span class="keyword">return</span> sort(filteredItems);
                }

                <span class="directive">private</span> <span class="predefined-type">List</span>&lt;Item&gt; sort(<span class="predefined-type">List</span>&lt;Item&gt; items) {
                        <span class="predefined-type">List</span>&lt;Item&gt; itemsSorted = newArrayList(items);
                        itemsSorted.sort(<span class="predefined-constant">null</span>);
                        <span class="keyword">return</span> itemsSorted;
                }

                <span class="directive">private</span> <span class="predefined-type">List</span>&lt;Item&gt; filter(<span class="predefined-type">List</span>&lt;Item&gt; items) {

                        <span class="predefined-type">List</span>&lt;Item&gt; filtered = <span class="keyword">new</span> <span class="predefined-type">ArrayList</span>&lt;&gt;();

                        <span class="keyword">for</span> (Item item : items) {
                                <span class="keyword">if</span> (item.isActive()) {
                                        filtered.add(item);
                                }
                        }
                        <span class="keyword">return</span> filtered;
                }
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>As we see, tests use only public method <code>findItems</code> to verify both filtering and sorting and are independent of implementation details, they ignore two private functions: <code>filter</code> and <code>sort</code>. What advantages does it have? Well, firstly, all functionalities are "covered" by the tests. Secondly, we are not bound to implementation details and these details can evolve without breaking tests. For instance, in Java 8 you do filtering and sorting using new Stream API is a single chain of function calls:</p>
</div>
<div class="listingblock">
<div class="title">Implementation in Java 8</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="directive">public</span> <span class="predefined-type">List</span>&lt;Item&gt; findItems() {
                <span class="predefined-type">List</span>&lt;Item&gt; items = newArrayList(<span class="keyword">new</span> Item(), <span class="keyword">new</span> Item());
                <span class="keyword">return</span> items.stream()
                        .filter(Item::isActive)
                        .sorted()
                        .collect(Collectors.toList());
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>We made quite a big change, we removed 2 private methods but these are purely implementation details. No tests require re-implementation. We are free to refactor, to improve technical details, yet the tests remain clean and stable because they are focused on <strong>behavior</strong>.</p>
</div>
<div class="paragraph">
<p>The tests that we presented show also basic structure of the test, which consists of 3 main steps: <em>Given, When, Then</em>, as on the example below:</p>
</div>
<div class="listingblock">
<div class="title">Structure of a test</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">        <span class="annotation">@Test</span>
        <span class="directive">public</span> <span class="type">void</span> shouldSortList() {
                MyRepo repo = <span class="keyword">new</span> MyRepo(); <b class="conum">(1)</b>

                <span class="predefined-type">List</span>&lt;Item&gt; items = repo.findItems(); <b class="conum">(2)</b>

                assertThat(items).isSorted(); <b class="conum">(3)</b>
        }</code></pre>
</div>
</div>
<div class="colist arabic">
<ol>
<li>
<p>Section <em>Given</em> - should set up all required objects, pre-conditions to the test</p>
</li>
<li>
<p>Section <em>When</em> - behavior, action you are testing</p>
</li>
<li>
<p>Section <em>Then</em> - verifies expected state</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Ideally, tests have only these 3 lines. Even if there is more to do in a test, it is always possible to refactor to these 3 lines.</p>
</div>
<div class="paragraph">
<p>We also do, from time to time, other kinds of testing which also employ unit test tools (like JUnit). These could be for instance learning tests (that verify how external library works), low level detailed tests which drive design of implementation details. Nevertheless they are not obligatory, they might be deleted when no longer needed, so not all rules mentioned above apply here. We also sometimes employ unit testing tools for integration tests which is described in a separate article <a href="#_integration_tests">Integration tests</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_references">References</h5>
<div class="paragraph">
<p>Online resources:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://martinfowler.com/bliki/UnitTest.html" class="bare">http://martinfowler.com/bliki/UnitTest.html</a></p>
</li>
<li>
<p><a href="http://blog.8thlight.com/uncle-bob/2013/09/23/Test-first.html" class="bare">http://blog.8thlight.com/uncle-bob/2013/09/23/Test-first.html</a></p>
</li>
<li>
<p><a href="http://blog.8thlight.com/uncle-bob/2014/01/27/TheChickenOrTheRoad.html" class="bare">http://blog.8thlight.com/uncle-bob/2014/01/27/TheChickenOrTheRoad.html</a></p>
</li>
<li>
<p><a href="http://blog.arkency.com/2014/09/unit-tests-vs-class-tests/" class="bare">http://blog.arkency.com/2014/09/unit-tests-vs-class-tests/</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Books:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" class="bare">http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882</a></p>
</li>
<li>
<p><a href="http://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530" class="bare">http://www.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530</a></p>
</li>
<li>
<p><a href="http://www.amazon.com/xUnit-Test-Patterns-Refactoring-Code/dp/0131495054" class="bare">http://www.amazon.com/xUnit-Test-Patterns-Refactoring-Code/dp/0131495054</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_test_driven_development">Test Driven Development</h3>
<div class="sect4">
<h5 id="_introduction_2">Introduction</h5>
<div class="paragraph">
<p>TDD is a way of developing software in which you write tests first, before implementing a functionality. What kind of tests? It&#8217;s about unit tests as defined in article <a href="#_unit_tests">Unit Tests</a>. However, TDD additionally requires to apply a set of rules (details are below). Thanks to TDD you get source code that is fully testable, fully covered by tests, code that you can trust with your life. It means you know exactly what your code is doing (tests are executable spec), you won&#8217;t be afraid to clean code, improve it, introduce any change. Your team is able to go fast and consistently. Sounds great, doesn&#8217;t it?<br>
It is not trivial to write code in TDD manner though, but let&#8217;s firstly see what exactly we mean by TDD.</p>
</div>
</div>
<div class="sect4">
<h5 id="_how_to_do_tdd">How to do TDD?</h5>
<div class="paragraph">
<p>Apart from the general rule that you write tests before any production code, there are slight differences in details, of how you do TDD. We like Uncle&#8217;s Bob approach most. He defines TDD as an activity performed in 4 cycles, see <a href="http://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html">TheCyclesOfTDD</a>.</p>
</div>
<div class="paragraph">
<p><strong>Firstly</strong>, you are not allowed to write a single line of production code without failing test. This is the lowest level rule expressed by so-called <a href="http://programmer.97things.oreilly.com/wiki/index.php/The_Three_Laws_of_Test-Driven_Development">Three Laws of TDD</a>:</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
1. You must write a failing test before you write any production code.<br>
2. You must not write more of a test than is sufficient to fail, or fail to compile.<br>
3. You must not write more production code than is sufficient to make the currently failing test pass.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Secondly</strong>, since <em>Getting software to work is only half of the job</em> (Kent Beck), we need to clean (via refactoring) the code. Therefore once you completed a unit test (or a set of small tests), you need to have a look at code you developed from a little distance and think what to improve having long term maintainability in mind. This way of looking at development cycle is called <em>Red-Green-Refactor</em>.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="images/red_green_refactor.jpg" alt="red green refactor">
</div>
<div class="title">Figure 1. Red-Green-Refactor cycle</div>
</div>
<div class="paragraph">
<p>Please note that it means we don&#8217;t have any separate phase in the project called <em>refactoring</em> or <em>code clean up</em>. Refactorings and care about code quality are continuous, inherent in development process.</p>
</div>
<div class="paragraph">
<p><strong>Thirdly</strong>, even applying previous rules, it&#8217;s easy to fall into troubles. You may come up with a test that forces you to write tons of production code or even to throw away your whole current implementation. Instead, you should work in an incremental, step-by-step manner. How we can achieve that? By making our implementation code more and more generic with every subsequent test. Our code should not only fulfill requirements imposed by tests, it should naturally flow into direction of generic solution for all possible tests. Also tests themselves could break this natural process. If a test requires <em>revolution</em> in code maybe it&#8217;s worth considering a smaller step. This cycle is called <a href="http://thecleancoder.blogspot.com/2010/11/craftsman-63-specifics-and-generics.html">Specific/Generic cycle</a> and should be considered every couple of tests. It definitely requires some practice and skills to get it right.</p>
</div>
<div class="paragraph">
<p><strong>Fourthly</strong>, while writing small test cases and small portions of code, it might be easy to loose the big picture. Therefore from time to time (say every couple of hours), we need to consider also if our code is in line with general architecture outline, e.g. if we don&#8217;t call DB directly from a GUI component. Generally, our architectures tend to follow <a href="http://blog.8thlight.com/uncle-bob/2012/08/13/the-clean-architecture.html">Clean Architecture</a> principles and as such lead to universal solutions which are highly testable, provide separation of concerns, clearly define boundaries of the system and its internal components.</p>
</div>
<div class="paragraph">
<p>In TDD tests are equally important as production code, therefore the same amount of care and attention is paid to them.</p>
</div>
</div>
<div class="sect4">
<h5 id="_when_to_use_tdd">When to use TDD?</h5>
<div class="paragraph">
<p>In BLStream we are not dogmatic about TDD. It is regarded as a good practice and if a team does not follow it, it must have good reason for it. Having said that, our experience is that some areas of software development are very well suited for TDD (algorithmics, finding new solutions), for others it is not very pragmatic (legacy systems, standardized issues - where the implementation is already known) and sometimes even not really possible (front-end stuff like CSS). Nevertheless we <strong>always</strong> write our code having testability in mind and advise to consider TDD in projects.</p>
</div>
</div>
<div class="sect4">
<h5 id="_references_2">References</h5>
<div class="paragraph">
<p>Online resources:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html" class="bare">http://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html</a></p>
</li>
<li>
<p><a href="http://blog.8thlight.com/uncle-bob/2013/09/23/Test-first.html" class="bare">http://blog.8thlight.com/uncle-bob/2013/09/23/Test-first.html</a></p>
</li>
<li>
<p><a href="http://martinfowler.com/bliki/TestDrivenDevelopment.html" class="bare">http://martinfowler.com/bliki/TestDrivenDevelopment.html</a></p>
</li>
<li>
<p><a href="http://www.jamesshore.com/Agile-Book/test_driven_development.html" class="bare">http://www.jamesshore.com/Agile-Book/test_driven_development.html</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Books:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="http://www.amazon.com/gp/product/0321146530" class="bare">http://www.amazon.com/gp/product/0321146530</a></p>
</li>
<li>
<p><a href="http://www.amazon.com/Growing-Object-Oriented-Software-Guided-Tests/dp/0321503627" class="bare">http://www.amazon.com/Growing-Object-Oriented-Software-Guided-Tests/dp/0321503627</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_integration_tests">Integration tests</h3>

</div>
<div class="sect2">
<h3 id="_easy_infrastructure_setup">Easy infrastructure setup</h3>
<div class="paragraph">
<p>from nothing to running in &lt;1h</p>
</div>
</div>
<div class="sect2">
<h3 id="_easy_application_setup">Easy application setup</h3>
<div class="paragraph">
<p>from nothing to running in &lt;1h</p>
</div>
</div>
<div class="sect2">
<h3 id="_concurrency_in_application_code_accounted_for">Concurrency in application code accounted for</h3>

</div>
<div class="sect2">
<h3 id="_gui_style_guide_defined">GUI Style Guide defined</h3>

</div>
<div class="sect2">
<h3 id="_application_monitoring">Application Monitoring</h3>

</div>
<div class="sect2">
<h3 id="_scalability_requirements_known_and_accounted_for">Scalability requirements known and accounted for</h3>

</div>
<div class="sect2">
<h3 id="_performance_requirements_known_and_accounted_for">Performance requirements known and accounted for</h3>

</div>
<div class="sect2">
<h3 id="_static_code_analysis_backend">Static code analysis (backend)</h3>

</div>
<div class="sect2">
<h3 id="_application_events_logging">Application events logging</h3>

</div>
<div class="sect2">
<h3 id="_owasp_top_10_in_definition_of_done">OWASP Top 10 in Definition of Done</h3>

</div>
<div class="sect2">
<h3 id="_authorization_model_defined">Authorization model defined</h3>

</div>
<div class="sect2">
<h3 id="_continuous_integration">Continuous Integration</h3>

</div>
<div class="sect2">
<h3 id="_continuous_delivery">Continuous Delivery</h3>

</div>
<div class="sect2">
<h3 id="_continuous_deployment">Continuous Deployment</h3>

</div>
<div class="sect2">
<h3 id="_documentation_tracked_in_vcs">Documentation tracked in VCS</h3>

</div>
<div class="sect2">
<h3 id="_documentation_generated_during_ci">Documentation generated during CI</h3>

</div>
<div class="sect2">
<h3 id="_parts_of_the_documentation_generated_automatically">Parts of the documentation generated automatically</h3>

</div>
<div class="sect2">
<h3 id="_automatic_documentation_of_the_executed_tests">Automatic documentation of the executed tests</h3>

</div>
<div class="sect2">
<h3 id="_documentation_scope_agreed">Documentation scope agreed</h3>

</div>
<div class="sect2">
<h3 id="_js_application_framework">JS application framework</h3>

</div>
<div class="sect2">
<h3 id="_js_build_process">JS Build process</h3>

</div>
<div class="sect2">
<h3 id="_js_modules_dependency_management">JS modules dependency management</h3>

</div>
<div class="sect2">
<h3 id="_js_unit_test">JS Unit test</h3>

</div>
<div class="sect2">
<h3 id="_css_builder">CSS builder</h3>

</div>
<div class="sect2">
<h3 id="_static_code_analysis_javascript">Static code analysis (JavaScript)</h3>

</div>
<div class="sect2">
<h3 id="_truly_restful_interfaces">Truly RESTful interfaces</h3>

</div>
<div class="sect2">
<h3 id="_html_validation">HTML validation</h3>

</div>
<div class="sect2">
<h3 id="_code_reviews">Code Reviews</h3>

</div>
<div class="sect2">
<h3 id="_pair_programming">Pair Programming</h3>

</div>
<div class="sect2">
<h3 id="_database_schema_versioning">Database schema versioning</h3>

</div>
<div class="sect2">
<h3 id="_database_data_versioning">Database data versioning</h3>

</div>
<div class="sect2">
<h3 id="_concurrency_for_db_writes">Concurrency for DB writes</h3>

</div>
<div class="sect2">
<h3 id="_version_control_system">Version Control System</h3>

</div>
<div class="sect2">
<h3 id="_branching_strategy">Branching strategy</h3>

</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2015-02-19 11:25:34 UTC
</div>
</div>
</body>
</html>